<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>American Elk Scoring Quiz</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const Alert = ({ children }) => (
            <div className="alert" role="alert">
                {children}
            </div>
        );

        const AlertTitle = ({ children }) => (
            <h3 className="alert-title">{children}</h3>
        );

        const AlertDescription = ({ children }) => (
            <p className="alert-description">{children}</p>
        );

        const questions = [
            {
                question: "How many primary subspecies of elk are there in North America?",
                choices: ["Two", "Three", "Four", "Five"],
                correctAnswer: 1,
                explanation: "In North America, there are three primary subspecies of elk: the American elk (Cervus canadensis spp.), Roosevelt's elk (Cervus canadensis roosevelti), and tule elk (Cervus canadensis nannodes)."
            },
            // Add the rest of your questions here
        ];

        const QuizApp = () => {
            const [currentQuestion, setCurrentQuestion] = React.useState(0);
            const [score, setScore] = React.useState(0);
            const [showExplanation, setShowExplanation] = React.useState(false);
            const [selectedAnswer, setSelectedAnswer] = React.useState(null);
            const [quizComplete, setQuizComplete] = React.useState(false);
            const [isCorrect, setIsCorrect] = React.useState(null);

            const handleAnswer = (choiceIndex) => {
                setSelectedAnswer(choiceIndex);
                setShowExplanation(true);
                const correct = choiceIndex === questions[currentQuestion].correctAnswer;
                setIsCorrect(correct);
                if (correct) {
                    setScore((prevScore) => prevScore + 1);
                }
            };

            const nextQuestion = () => {
                setShowExplanation(false);
                setSelectedAnswer(null);
                setIsCorrect(null);
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion((prevQuestion) => prevQuestion + 1);
                } else {
                    setQuizComplete(true);
                }
            };

            const resetQuiz = () => {
                setCurrentQuestion(0);
                setScore(0);
                setShowExplanation(false);
                setSelectedAnswer(null);
                setQuizComplete(false);
                setIsCorrect(null);
            };

            if (quizComplete) {
                return (
                    <div className="quiz-container">
                        <img 
                            src="https://aws.boone-crockett.org/s3fs-public/styles/12-col_848px/public/thumbnails/image/150_bw_logo_0.png" 
                            alt="Boone and Crockett Club Logo" 
                            className="logo"
                        />
                        <h1>Quiz Complete!</h1>
                        <p>Your final score: {score} out of {questions.length}</p>
                        
                        <img 
                            src="https://aws.boone-crockett.org/s3fs-public/styles/featured_product/public/thumbnails/image/bpaer_0.jpg?itok=OXajVOEH" 
                            alt="An American Elk Retrospective Book" 
                            className="product-image"
                        />
                        
                        <p>Thank you for taking our elk quiz! Use this discount code to get $10 off on our best-selling book An American Elk Retrospective.</p>
                        
                        <div className="coupon-code">
                            <p>Coupon Code: ELKQUIZ</p>
                        </div>
                        
                        <a 
                            href="https://www.boone-crockett.org/american-elk-retrospective" 
                            target="_blank" 
                            rel="noopener noreferrer" 
                            className="buy-button"
                        >
                            BUY NOW!
                        </a>
                        
                        <button onClick={resetQuiz} className="restart-button">
                            Restart Quiz
                        </button>
                    </div>
                );
            }

            const currentQ = questions[currentQuestion];

            return (
                <div className="quiz-container">
                    <img 
                        src="https://aws.boone-crockett.org/s3fs-public/styles/12-col_848px/public/thumbnails/image/150_bw_logo_0.png" 
                        alt="Boone and Crockett Club Logo" 
                        className="logo"
                    />
                    <h1>American Elk Knowledge Quiz</h1>
                    <p>Question {currentQuestion + 1} of {questions.length}</p>
                    <p className="question">{currentQ.question}</p>
                    <div className="choices">
                        {currentQ.choices.map((choice, index) => (
                            <button
                                key={index}
                                onClick={() => handleAnswer(index)}
                                disabled={showExplanation}
                                className={`choice-button ${
                                    selectedAnswer === index
                                        ? index === currentQ.correctAnswer
                                            ? 'correct'
                                            : 'incorrect'
                                        : ''
                                } ${showExplanation ? 'disabled' : ''}`}
                            >
                                {choice}
                            </button>
                        ))}
                    </div>
                    {isCorrect !== null && (
                        <p className={`feedback ${isCorrect ? 'correct' : 'incorrect'}`}>
                            {isCorrect ? 'Correct!' : 'Incorrect'}
                        </p>
                    )}
                    {showExplanation && (
                        <Alert>
                            <AlertTitle>Explanation</AlertTitle>
                            <AlertDescription>
                                {currentQ.explanation}
                            </AlertDescription>
                        </Alert>
                    )}
                    {showExplanation && (
                        <button
                            onClick={nextQuestion}
                            className="next-button"
                        >
                            {currentQuestion < questions.length - 1 ? 'Next Question' : 'Finish Quiz'}
                        </button>
                    )}
                    <p className="score">Current Score: {score} / {currentQuestion + 1}</p>
                </div>
            );
        };

        ReactDOM.render(<QuizApp />, document.getElementById('root'));
    </script>
</body>
</html>
